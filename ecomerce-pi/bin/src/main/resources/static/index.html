<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Login e Cadastro</title>
</head>
<body>
    <h1>Login</h1>
    <form id="loginForm">
        <input type="email" id="loginEmail" placeholder="E-mail" required>
        <input type="password" id="loginSenha" placeholder="Senha" required>
        <button type="submit">Entrar</button>
    </form>
    <p id="loginMessage"></p>

    <h1>Cadastro</h1>
    <form id="cadastroForm">
        <input type="email" id="cadastroEmail" placeholder="E-mail" required>
        <input type="password" id="cadastroSenha" placeholder="Senha" required>
        <button type="submit">Cadastrar</button>
    </form>
    <p id="cadastroMessage"></p>

    <script>
        document.getElementById("loginForm").addEventListener("submit", function(event) {
            event.preventDefault();
            let email = document.getElementById("loginEmail").value;
            let senha = document.getElementById("loginSenha").value;

            fetch(`/usuarios/login?email=${email}&senha=${senha}`, { method: "POST" })
                .then(response => response.text())
                .then(message => document.getElementById("loginMessage").textContent = message);
        });

        document.getElementById("cadastroForm").addEventListener("submit", function(event) {
            event.preventDefault();
            let email = document.getElementById("cadastroEmail").value;
            let senha = document.getElementById("cadastroSenha").value;

            fetch(`/usuarios/cadastro?email=${email}&senha=${senha}`, { method: "POST" })
                .then(response => response.text())
                .then(message => document.getElementById("cadastroMessage").textContent = message);
        });
    </script>
</body>
</html>
